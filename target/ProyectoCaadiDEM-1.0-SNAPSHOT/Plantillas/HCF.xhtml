<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<<<<<<< HEAD
        <h:outputStylesheet library="css" name="CaadiCss.css"/>
=======
        <f:event  type="preRenderView" listener="#{beanVisit.verificarIp()}"/>
>>>>>>> feature/Logs
        <title>Facelets Template</title>
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="top">
                
                <h:form>
                    <b:navBar fluid="true" brand="CAADI DEM" 
                              brand-href="http://localhost:8080/ProyectoCaadiDEM/dash.xhtml"  
                              inverse="true" > 
                        <b:navbarLinks>
                            <b:dropMenu value="Periodos">
                                <b:navCommandLink  value="Listar"  action="/Periodos/listar"/>
                                <b:navCommandLink  value="Agregar" action="/Periodos/agregar"
                                           actionListener="#{beanPeriodos.crearNuevoItem()}"/>
                            </b:dropMenu>
                            
                            <b:dropMenu value="Grupos" rendered="#{beanPeriodos.conseguirActual() ne null 
                                                                   and beanMaestros.listarItems().size() gt 0 }">
                                <b:navCommandLink value="Listar"  action="/Grupos/listar"/>
                                <b:navCommandLink value="Reportes"  action="/Grupos/reportes"/>
                                <b:navCommandLink  value="Agregar" action="/Grupos/agregar"
                                           actionListener="#{beanGrupos.crearNuevoItem()}"/>
                            </b:dropMenu>
                            
                            <b:dropMenu value="Maestros" rendered="#{beanPeriodos.conseguirActual() ne null}">
                                <b:navCommandLink value="Listar"   action="/Maestros/listar"/>
                                <b:navCommandLink  value="Agregar" action="/Maestros/agregar"
                                                   actionListener="#{beanMaestros.crearNuevoItem()}"/>
                            </b:dropMenu>
                            
                            <b:dropMenu value="Estudiantes" rendered="#{beanPeriodos.conseguirActual() ne null}">
                                <b:navCommandLink value="Listar"   action="/Estudiantes/listar"/>
                                <b:navCommandLink  value="Agregar" action="/Estudiantes/agregar"
                                                   actionListener="#{beanEstudiantes.crearNuevoItem()}"/>
                            </b:dropMenu>
                            
                            <b:navCommandLink value="Asignar"   action="/Grupos/asignacion" 
                                              rendered="#{beanPeriodos.conseguirActual() ne null 
                                                                   and beanGrupos.listarItems().size() gt 0 }"/>
                            <b:navCommandLink value="Conectados" action="/Estudiantes/registrados" 
                                              rendered="#{beanPeriodos.conseguirActual() ne null 
                                                                   and beanGrupos.listarItems().size() gt 0 }"/>
                            <b:navCommandLink value="Registrar" action="/Visitas/LogInSession" 
                                              rendered="#{beanPeriodos.conseguirActual() ne null 
                                                                   and beanGrupos.listarItems().size() gt 0 }"/>
                        </b:navbarLinks>
                        
                        <p:commandButton 
                            type="button" id="overPanel"
                            
                            icon="fa fa-user"
                            class="btn btn-success"
                           
                                         />
                        
                    </b:navBar>
                    
                    <p:overlayPanel for="overPanel" dynamic="true" >
                        <p:panel header="Account">
                        </p:panel>
                    </p:overlayPanel>
                </h:form>
            </ui:insert>
        </div>

        <div id="content" class="center_content">
            <ui:insert name="content">Content</ui:insert>
        </div>

        <div id="bottom">
            <ui:insert name="bottom">Bottom</ui:insert>
        </div>

    </h:body>

</html>
